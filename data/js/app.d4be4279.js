(function(e){function t(t){for(var s,a,i=t[0],u=t[1],c=t[2],l=0,m=[];l<i.length;l++)a=i[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&m.push(o[a][0]),o[a]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(e[s]=u[s]);d&&d(t);while(m.length)m.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],s=!0,i=1;i<n.length;i++){var u=n[i];0!==o[u]&&(s=!1)}s&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var s={},o={app:0},r=[];function a(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=s,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var s=n("85ec"),o=n.n(s);o.a},"0a9a":function(e,t,n){e.exports=n.p+"img/reroll.62bd09a5.png"},"0ca0":function(e,t,n){"use strict";var s=n("9b5b"),o=n.n(s);o.a},"0cb5":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9b24q0ONhBxCFDdbIgWsRRq1CECqFWaNXB5NIvaGJIUlwcBdeCgx+LVQcXZ10dXAVB8APEydFJ0UVK/F9SaBHjwXE/3t173L0D/M0aU82ecUDVLCObTgn5wooQfkUQIUSRREhipj4rihl4jq97+Ph6l+BZ3uf+HFGlaDLAJxDPMN2wiNeJpzYtnfM+cYxVJIX4nHjMoAsSP3JddvmNc9lhP8+MGbnsHHGMWCh3sdzFrGKoxEniuKJqlO/Pu6xw3uKs1uqsfU/+wkhRW17iOs1hpLGARYgQIKOOKmqwkKBVI8VElvZTHv4hxy+SSyZXFYwc89iACsnxg//B727N0uSEmxRJAcEX2/4YAcK7QKth29/Htt06AQLPwJXW8W80gelP0hsdLX4E9G8DF9cdTd4DLneAwSddMiRHCtD0l0rA+xl9UwEYuAX6Vt3e2vs4fQBy1FXmBjg4BEbLlL3m8e7e7t7+PdPu7wc3EXKP5QS8CAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+QFBg04DlR1ITcAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAABKUlEQVR42u2bS2rEMBBEy0G+5txnzqFreGmYY/QpnI0MnU0CyiIQIuvj6D3Q2u5SVY1/IwEAAEAhD0mbpEOSV17H57Eeowz/bDD0T+s5ws67JI8xupl5SslrkVJyM/MYYy5CVydsX8O3JhNh6ynAIcnNrLkAZpZ3wp9ZCgVwSUopKYTQVPnzPLWua/Eclwjg7l3styxL8Rxvs/9+h4q7cjk1nIYD7rBLNZneAUSAEsQBlCAlSAQal+BIMcEBlCAliAAIgAAIgAAIgAAIgABTcsmboTvPwd3giCf1mzvKqx6+0gGzd0C4i+WJABH4ZxEofXZIBIgAV4JDROBdksxM7t50mdm3c+glwEuS9n1vvnPZMV89HTT9t8LS5F+L506Y9v8CAAAAcE8+AJhQ13ak3JLzAAAAAElFTkSuQmCC"},"1e3f":function(e,t,n){},2573:function(e,t,n){"use strict";var s=n("4e9a"),o=n.n(s);o.a},"430c":function(e,t,n){},"4e9a":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),o=n("a65d"),r=n.n(o),a=n("e37d"),i=(n("4de4"),n("caad"),n("c975"),n("d81d"),n("2532"),n("5530")),u=n("2f62");s["a"].use(u["a"]);var c=new u["a"].Store({state:{User:{Username:"",IsAdmin:!1,IsJudge:!1,Hand:[]},Room:{IsStarted:!1,RoomID:"",Participants:[],TurnState:0,CurrentCountdown:"",JudgeSelection:0,Turn:0,MaxTurn:30,ZenMode:!1,DefaultCountdown:80,DefaultRerollTimeout:6,AvailableDecks:[],SelectedDecks:[]},SelectedCards:[],ShowLogin:!0,ShowRules:!1,CanWizz:!0,Wizz:[],Websocket:null},mutations:{setWebsocket:function(e,t){e.Websocket=t},setPlayerList:function(e,t){e.Room.Participants=t},showRules:function(e){e.ShowRules=!e.ShowRules,console.log("Showing rules; "+e.ShowRules)},setState:function(e,t){var n=e.Websocket;e.User=t.User,e.Room=t.Room,e.Websocket=n,e.ShowLogin=!1,e.SelectedCards=[]},setCountdown:function(e,t){s["a"].set(e.Room,"CurrentCountdown",t)},toggleSelection:function(e,t){1!==e.Room.CurrentBlackCard.AmtCardRequired?e.SelectedCards.includes(t)?(s["a"].set(e.SelectedCards,e.SelectedCards.indexOf(t),-1),e.User.Hand.isSelected=!1):e.Room.CurrentBlackCard.AmtCardRequired>e.SelectedCards.filter((function(e){return-1!==e})).length&&(e.SelectedCards.includes(-1)?s["a"].set(e.SelectedCards,e.SelectedCards.indexOf(-1),t):e.SelectedCards.push(t),e.User.Hand.isSelected=!0):e.SelectedCards.includes(t)?e.SelectedCards=[]:e.SelectedCards=[t]},toggleProposalSelection:function(e,t){e.SelectedCards=[t]},setJudgeSelection:function(e,t){e.Room.JudgeSelection=t},addWizz:function(e,t){e.Wizz.includes(t)||e.Wizz.push(t)},delWizz:function(e,t){e.Wizz=e.Wizz.filter((function(e){return e!==t}))},gotSettings:function(e,t){e.Room.MaxTurn=t.MaxTurn,e.Room.ZenMode=t.ZenMode,e.Room.DefaultCountdown=t.DefaultCountdown,e.Room.DefaultRerollTimeout=t.DefaultRerollTimeout;for(var n=0;n<e.Room.AvailableDecks.length;n++){var o=e.Room.AvailableDecks[n];t.SelectedDecks.includes(o.ID)?s["a"].set(e.Room.AvailableDecks[n],"IsSelected",!0):s["a"].set(e.Room.AvailableDecks[n],"IsSelected",!1)}},updateTurns:function(e,t){var n;e.Room.MaxTurn=null!==(n=parseInt(t))&&void 0!==n?n:30},updateZenMode:function(e,t){e.Room.ZenMode=t},updateCountdown:function(e,t){var n;e.Room.DefaultCountdown=null!==(n=parseInt(t))&&void 0!==n?n:80},updateRerollTimeout:function(e,t){var n;e.Room.DefaultRerollTimeout=null!==(n=parseInt(t))&&void 0!==n?n:6},updateSelectedDecks:function(e,t){t.ID=parseInt(t.ID);for(var n=0;n<e.Room.AvailableDecks.length;n++)e.Room.AvailableDecks[n].ID===t.ID&&s["a"].set(e.Room.AvailableDecks,n,Object(i["a"])({},e.Room.AvailableDecks[n],{IsSelected:t.Selected}))},canWizz:function(e,t){e.CanWizz=t},hasPlayed:function(e,t){for(var n=0;n<e.Room.Participants.length;n++)e.Room.Participants[n].Username===t&&s["a"].set(e.Room.Participants,n,Object(i["a"])({},e.Room.Participants[n],{HasPlayed:!0}))}},actions:{startGame:function(e){e.state.Websocket.send(JSON.stringify({Command:"START_GAME",Arguments:"{}"}))},sendSettings:function(e){var t={SelectedDecks:e.state.Room.AvailableDecks.filter((function(e){return e.IsSelected})).map((function(e){return e.ID})),MaxTurn:e.state.Room.MaxTurn,ZenMode:e.state.Room.ZenMode,DefaultCountdown:e.state.Room.DefaultCountdown,DefaultRerollTimeout:e.state.Room.DefaultRerollTimeout};e.state.Websocket.send(JSON.stringify({Command:"SET_SETTINGS",Arguments:JSON.stringify(t)}))},select:function(e,t){e.commit("toggleSelection",t),e.dispatch("sendSelection")},selectProposal:function(e,t){e.commit("toggleProposalSelection",t),e.dispatch("sendSelection")},sendSelection:function(e){e.state.User.IsJudge||console.log("Sending selection"),e.state.Websocket.send(JSON.stringify({Command:"SEND_SELECTION",Arguments:JSON.stringify(e.state.SelectedCards)}))},skipCountdown:function(e){e.state.Websocket.send(JSON.stringify({Command:"SKIP_COUNTDOWN",Arguments:"{}"}))},reroll:function(e){e.state.Websocket.send(JSON.stringify({Command:"REROLL",Arguments:"{}"}))},sendWizz:function(e){e.state.Websocket.send(JSON.stringify({Command:"WIZZ",Arguments:"{}"})),e.commit("canWizz",!1)}},getters:{IsPlayerJudge:function(e){return e.User.IsJudge},IsPlayerAdmin:function(e){return e.User.IsAdmin},IsPlaying:function(e){return e.Room.ZenMode||e.Room.Turn<=e.Room.MaxTurn},AmtCards:function(e){for(var t=0,n=0,s=e.Room.AvailableDecks,o=0;o<s.length;o++)s[o].IsSelected&&(t+=s[o].AmtBlack,n+=s[o].AmtWhite);return{sumBlack:t,sumWhite:n}},HasEnoughCards:function(e,t){return t.AmtCards.sumWhite>=7*(e.Room.Participants.length+1)}}}),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.showWizz,attrs:{id:"app"}},[s("Rules"),e.ShowModal?s("LoginModal"):s("Board"),e._l(e.wizz,(function(t){return s("audio",{key:t,attrs:{autoPlay:""},on:{ended:function(n){return e.remWiz(t)}}},[s("source",{attrs:{src:n("7496"),type:"audio/mpeg"}})])}))],2)},l=[],m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"modal-login"}},[s("button",{attrs:{id:"ruleLink"},on:{click:e.showRules}},[e._v("Règles / Utilisation")]),s("img",{attrs:{src:n("cf05"),alt:"logo"}}),s("h1",[e._v("Cards Against Overflow")]),s("form",{on:{submit:e.auth}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{id:"username",type:"text",name:"username",placeholder:"Pseudo",required:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.room,expression:"room"}],attrs:{id:"room",type:"text",name:"room",placeholder:"Code salle (Optionnel)"},domProps:{value:e.room},on:{input:function(t){t.target.composing||(e.room=t.target.value)}}}),s("input",{attrs:{type:"submit",value:"Créer / Rejoindre"},on:{submit:e.auth}})])])},f=[];function p(e){var t=this.$store,n=this.$toasted;e.preventDefault();var s=location.host,o=new WebSocket("ws://"+s+"/api?username="+this.username+"&room="+this.room);o.onmessage=function(e){return g(t,n,e.data)},o.onerror=function(e){return console.log("ERR: ",e)},o.onclose=function(e){return console.log("Connection closed: ",e)},window.setInterval((function(){o.send(JSON.stringify({Command:"PING",Arguments:"{}"}))}),5e3),t.commit("setWebsocket",o)}function g(e,t,n){var s=JSON.parse(n);switch(s.Arguments=JSON.parse(s.Arguments),s.Command){case"ERROR":console.log("Error: ",s.Arguments),alert(s.Arguments);break;case"CRITICAL_ERROR":console.log("Error: ",s.Arguments),alert(s.Arguments);break;case"CONNECTED":e.commit("connected",s.Arguments);break;case"SET_GAMESTATE":e.commit("setState",s.Arguments);break;case"PLAYER_LIST":e.commit("setPlayerList",s.Arguments);break;case"GOT_SETTINGS":e.commit("gotSettings",s.Arguments);break;case"COUNTDOWN":e.commit("setCountdown",s.Arguments);break;case"JUDGE_SELECTION":e.commit("setJudgeSelection",s.Arguments);break;case"WIZZ":e.commit("addWizz",s.Arguments);break;case"WIZZ_REFILLED":e.commit("canWizz",!0);break;case"HAS_PLAYED":e.commit("hasPlayed",s.Arguments);break;default:console.log("UNHANDLED COMMAND: "+s.Command)}}var A=function(){return localStorage.getItem("username")},h={name:"LoginModal",data:function(){return{username:A(),room:""}},methods:{auth:p,showRules:function(){this.$store.commit("showRules")}}},v=h,S=(n("bddb"),n("2877")),C=Object(S["a"])(v,m,f,!1,null,"29415fd2",null),b=C.exports,R=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.isShown,attrs:{id:"rules"}},[s("div",{attrs:{id:"rules-inner"}},[s("div",{staticClass:"icon",class:e.cardGame?"selected":"",on:{click:e.selectCard}},[s("img",{attrs:{src:n("0cb5")}}),s("span",[e._v("Règles du jeu")])]),s("div",{staticClass:"icon",class:e.usage?"selected":"",on:{click:e.selectUsage}},[s("img",{attrs:{src:n("57c5")}}),s("span",[e._v("Utilisation du site")])])]),e.cardGame?s("div",{attrs:{id:"rules-content"}},[s("h2",[e._v("Règles du jeu de cartes")]),s("p",[e._v("Si vous avez déjà joué à Cards Against Humanity ou Blanc Manger Coco, les règles sont similaires. Ces règles considèrent que les joueurs ont un moyen de discussion vocal (Skype, appel messenger, etc...)")]),s("p",[e._v("Le jeu comporte des cartes blanches (réponses) et des cartes à trou.")]),e._m(0),s("p",[e._v("Chacun des joueurs va ensuite compléter avec les cartes qu'il possède dans son jeu et tenter de faire la combinaison la plus drôle.")]),s("p",[e._v("Le juge va ensuite lire chaque proposition à haute voix et choisir celle qu'il considère la plus drôle.")]),s("p",[e._v("Si un joueur n'aime pas sa main, il peut décider d'effectuer un \"Re-roll\" une fois tout les 4 tours (personnalisable). Il va alors abadonner toutes ses cartes et en repiocher.")])]):e.usage?s("div",{attrs:{id:"rules-content"}},[s("h2",[e._v("Utilisation du site")]),s("p",[e._v('Pour créer une partie, rien de plus simple. Choisissez votre pseudo et cliquez sur "Rejoindre".')]),s("p",[e._v("En haut à droite de l'écran, le code de la salle est affiché. Partagez-le avec vos amis afin qu'ils vous rejoignent en le renseignant dans la case \"Code salle\"")]),s("br"),s("p",[e._v("Personnalisez la salle selon vos préférenceset lancez la partie !")]),s("p",[e._v("Le mode zen permet de ne pas avoir de limite de tours et jouer indéfiniement")]),s("p",[e._v("Un chronomètre permet de limiter le temps de chaque tour. Si tous les joueurs ont joués leurs cartes, le compteur va diminuer à 10 secondes afin de laisser le temps de changer d'avis.")]),s("p",[e._v("Lors du vote, seul le juge peut changer la carte affichée en cours.")]),s("br"),s("p",[e._v("Ce jeu n'est pas conçu pour être joué sur mobile mais uniquement sur ordinateur.")]),s("p",[e._v("Testé et fonctionnel dans Firefox et Google Chrome.")]),s("br"),s("p",[e._v("Si vous trouvez un problème, n'hésitez pas à me contacter pour me l'expliquer afin que je puisse la corriger.")]),e._m(1)]):e._e(),s("div",{attrs:{id:"closeBt"},on:{click:e.close}},[e._v("X")])])},w=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("À chaque tour, un joueur est désigné "),s("img",{staticClass:"mini-icon",attrs:{src:n("b87e")}}),e._v(" Juge . Il va lire à haute voix la carte à trou.")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("Si vous me connaissez, contactez moi par votre moyen habituel sinon n'hésitez pas à m'envoyer un email à "),n("a",{attrs:{href:"mailto:nathan@janczewski.fr"}},[e._v("nathan@janczewski.fr")])])}],_={name:"Rules",props:["showRules"],computed:{isShown:function(){return this.$store.state.ShowRules?"shown":""}},data:function(){return{cardGame:!0,usage:!1}},methods:{selectCard:function(){this.cardGame=!0,this.usage=!1},selectUsage:function(){this.cardGame=!1,this.usage=!0},close:function(){this.$store.commit("showRules")}}},k=_,z=(n("bdd6"),Object(S["a"])(k,R,w,!1,null,"158627fe",null)),I=z.exports,x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"board"}},[s("button",{attrs:{id:"ruleLink"},on:{click:e.showRules}},[e._v("Règles / Utilisation")]),s("header",[s("h1",[e._v("Cards Against Overflow")]),s("div",{staticClass:"gameinfo"},[s("span",[e._v("Code salle: "+e._s(e.room))]),s("div",{staticClass:"buttons"},[s("button",{on:{click:e.exit}},[e._v("Quitter")])])])]),s("Countdown"),s("div",{staticClass:"game-wrapper"},[s("nav",[s("img",{attrs:{src:n("cf05"),alt:"Logo"}}),s("h2",[e._v("Joueurs")]),s("ul",e._l(e.participants,(function(e){return s("PlayerName",{key:e.Username+e.Score+e.IsJudge+e.IsAdmin+e.HasPlayed,attrs:{username:e.Username,score:e.Score,isAdmin:e.IsAdmin,isJudge:e.IsJudge,hasPlayed:e.HasPlayed}})})),1),s("div",{attrs:{id:"actions"}},[s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Wizz",expression:"'Wizz'"}],attrs:{disabled:!e.canWizz},on:{click:e.addWizz}},[s("img",{attrs:{src:n("9d09"),alt:"wizz"}})]),e.isStarted?s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Re-piocher",expression:"'Re-piocher'"}],attrs:{disabled:!e.canReroll},on:{click:e.reroll}},[s("img",{attrs:{src:n("0a9a"),alt:"Reroll"}})]):e._e()]),e.isStarted&&e.currTurn<=e.maxTurn&&!e.zenMode?s("h3",[e._v("Tour: "+e._s(e.currTurn)+" / "+e._s(e.maxTurn))]):e.isStarted&&(e.zenMode||e.currTurn<=e.maxTurn)?s("h3",[e._v("Tour: "+e._s(e.currTurn))]):e._e()]),e.isPlaying?s("div",{staticClass:"game"},[s("div",{attrs:{id:"question"}},[void 0!==e.currBlackCard&&null!==e.currBlackCard&&e.isReady?s("h1",{attrs:{id:"questionText"}},e._l(e.getCardText,(function(t){return s("span",{key:t.Question,class:t.Class},[e._v(e._s(t.Question))])})),0):void 0===e.currBlackCard||null===e.currBlackCard||e.isReady?e.isStarted?s("h1",{attrs:{id:"questionText"}},[e._v("Attente de nouveaux joueurs")]):e._e():s("h1",{attrs:{id:"questionText"}},[e._v(" Il n'y a plus assez de joueurs ! ")]),e._v(" "+e._s()+" "),e.currBlackCard||e.isStarted?e._e():s("h1",{attrs:{id:"questionText"}},[e._v(" En attente de joueurs... "),e.isReady&&e.HasEnoughCards?[s("br"),e._v(" La partie est prête ")]:e.isReady&&!e.HasEnoughCards?[s("br"),e._v(" Pas assez de cartes dans les decks sélectionnés! ")]:e._e()],2),e._v(" "+e._s()+" ")]),[e.isStarted&&2!==e.turnState?0===e.turnState&&!e.isJudge&&e.isReady?s("div",{attrs:{id:"hack"}},[s("div",{attrs:{id:"cards"}},e._l(e.getCards,(function(e,t){return s("Card",{key:e.ID+e.isSelected,attrs:{isProposal:!1,index:t,currCard:e}})})),1)]):0===e.turnState&&e.isJudge&&e.isReady?s("div",[s("h3",[e._v("Les joueurs jouent!")])]):1===e.turnState&&e.isReady&&e.HasEnoughCards?s("div",[s("div",{attrs:{id:"cards"}},e._l(e.getProposals,(function(e,t){return s("Card",{key:e.ID+e.isSelected,attrs:{isProposal:!0,index:t,currCard:e}})})),1),e.isJudge?s("div",{attrs:{id:"validate"}},[s("button",{on:{click:e.skipCountdown}},[e._v("Voter !")])]):e._e()]):e._e():s("div",{attrs:{id:"centerizehack"}},[2===e.turnState?s("h1",{staticClass:"winner"},[e._v(e._s(e.winner))]):e._e(),!e.isStarted||e.currTurn>e.maxTurn&&!e.zenMode?s("RoomSettings"):e._e()],1)]],2):s("div",{staticClass:"game winner"},[s("h1",[e._v(e._s(e.getWinner))]),e.currTurn>e.maxTurn?s("RoomSettings"):e._e()],1)])],1)},T=[],D=(n("4160"),n("a15b"),n("ac1f"),n("1276"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card",class:e.getClassnameIsSelected,on:{click:function(t){return e.toggleSelection(e.index)}}},[n("p",{class:e.getClassForTextSize},[e._v(e._s(e.isProposal?"Proposition #"+(e.index+1):e.currCard.Text))]),n("div",{staticClass:"branding"},e._l(e.getDeckName,(function(t){return n("span",{key:t},[e._v(e._s(t))])})),0),e.showPosition&&!e.isProposal?n("div",{attrs:{id:"position"}},[e._v(" "+e._s(e.getSelectedPosition)+" ")]):e._e()])}),P=[],E={name:"Card",props:["currCard","isProposal","index"],data:function(){return{currentCard:this.index}},computed:{getClassnameIsSelected:function(){return 0===this.$store.state.Room.TurnState?this.$store.state.SelectedCards.includes(this.currentCard)?"isSelected":"":this.$store.state.Room.JudgeSelection===this.index?"isSelected":""},getSelectedPosition:function(){return 0===this.$store.state.Room.TurnState?this.$store.state.SelectedCards.indexOf(this.currentCard)+1:this.$store.state.Room.JudgeSelection},showPosition:function(){return 0===this.$store.state.Room.TurnState&&!this.$store.state.User.IsPlayerJudge&&(this.$store.state.Room.CurrentBlackCard.AmtCardRequired>1&&this.$store.state.SelectedCards.includes(this.index))},getDeckName:function(){for(var e=this.$store.state.Room.AvailableDecks,t=0;t<e.length;t++)if(e[t].ID===this.currCard.Deck)return e[t].Title.split(" ");return"Réponses".split(" ")},getClassForTextSize:function(){if(this.isProposal)return"";var e=this.currCard.Text.length;return e>=80?"size2":e>=55?"size1":""}},methods:{toggleSelection:function(e){0===this.$store.state.Room.TurnState?this.$store.dispatch("select",e):this.$store.state.User.IsJudge&&1===this.$store.state.Room.TurnState&&this.$store.dispatch("selectProposal",e)}}},y=E,B=(n("0ca0"),Object(S["a"])(y,D,P,!1,null,"25f720fa",null)),O=B.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"?"!==e.countdown?n("div",{class:e.isNearEnd?"near":""},[e._v(" "+e._s(e.countdown)+" ")]):e._e()},W=[],j={name:"Countdown",computed:{countdown:function(){var e;return null!==(e=this.$store.state.Room.CurrentCountdown)&&void 0!==e?e:"?"},isNearEnd:function(){return this.$store.state.Room.CurrentCountdown<10}}},L=j,M=(n("2573"),Object(S["a"])(L,J,W,!1,null,"2063318c",null)),U=M.exports,N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{class:e.isMe},[s("div",[e.hasPlayed?s("img",{attrs:{src:n("0cb5"),alt:"Has played"}}):e._e(),e.isWizzing?s("img",{attrs:{src:n("9d09"),alt:"Wizzing"}}):e._e(),e.isAdmin?s("img",{attrs:{src:n("989a"),alt:"Admin"}}):e._e(),e.isJudge?s("img",{attrs:{src:n("b87e"),alt:"Judge"}}):e._e(),s("span",[e._v(e._s(e.username))])]),s("span",{staticClass:"score"},[e._v(e._s(e.score))])])},$=[],H={name:"PlayerName",props:["username","score","isAdmin","isJudge","hasPlayed"],computed:{isMe:function(){return this.username===this.$store.state.User.Username?"isMe":""},isWizzing:function(){return this.$store.state.Wizz.includes(this.username)}}},G=H,Q=(n("75d7"),Object(S["a"])(G,N,$,!1,null,"43a4e9ca",null)),Z=Q.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"settings"}},[n("ul",e._l(e.decks,(function(t){return n("li",{key:"deck"+t.ID+t.IsSelected},[n("input",{attrs:{type:"checkbox",disabled:!e.IsAdmin,id:"cb"+t.ID,"data-id":t.ID},domProps:{checked:t.IsSelected},on:{input:e.updateDeckSelection}}),n("div",[n("Label",{attrs:{for:"cb"+t.ID}},[e._v(e._s(t.Title))]),n("span",[e._v(e._s(t.AmtWhite)+" cartes blanches")]),n("span",[e._v(e._s(t.AmtBlack)+" cartes noires")])],1)])})),0),n("div",{attrs:{id:"subsettings"}},[n("div",{attrs:{id:"subsubsettings"}},[n("Label",{attrs:{for:"amtTurns"}},[e._v("Nombre de tours:")]),n("div",[n("input",{attrs:{id:"amtTurns",disabled:!e.IsAdmin||e.zenMode,type:"number",min:"1"},domProps:{value:e.maxTurn},on:{input:e.updateTurns}}),n("input",{attrs:{id:"cbZenmode",disabled:!e.IsAdmin,type:"checkbox"},domProps:{checked:e.zenMode},on:{input:e.updateZenMode}}),n("Label",{attrs:{for:"cbZenmode"}},[e._v("Mode Zen")])],1),n("Label",{attrs:{for:"countdownDuration"}},[e._v("Durée de choix (en secondes)")]),n("div",[n("input",{attrs:{id:"countdownDuration",type:"number",min:"10",disabled:!e.IsAdmin},domProps:{value:e.countdown},on:{input:e.updateCountdown}})]),n("Label",{attrs:{for:"rerollTimeout"}},[e._v("Nombre de tour entre re-roll")]),n("div",[n("input",{attrs:{id:"rerollTimeout",type:"number",min:"0",disabled:!e.IsAdmin},domProps:{value:e.rerollTimeout},on:{input:e.updateReroll}})])],1),n("div",{attrs:{id:"button"}},[n("div",[n("span",{attrs:{id:"header"}},[e._v("Nombre de cartes totales:")]),n("span",[e._v(e._s(e.AmtCards.sumWhite)+" cartes blanches")]),n("span",[e._v(e._s(e.AmtCards.sumBlack)+" cartes noires")])]),n("button",{attrs:{disabled:!e.IsAdmin||!e.isReady||!e.HasEnoughCards},on:{click:e.startGame}},[e._v("Démarrer")])])])])},q=[],V={name:"RoomSettings",computed:Object(i["a"])({},Object(u["c"])({IsAdmin:function(e){return e.User.IsAdmin},decks:function(e){return e.Room.AvailableDecks},maxTurn:function(e){return e.Room.MaxTurn},zenMode:function(e){return e.Room.ZenMode},countdown:function(e){return e.Room.DefaultCountdown},rerollTimeout:function(e){return e.Room.DefaultRerollTimeout}}),{},Object(u["b"])(["AmtCards","HasEnoughCards"]),{isReady:function(){return this.$store.state.Room.Participants.length>=3}}),methods:{startGame:function(){this.$store.dispatch("startGame")},updateTurns:function(e){this.$store.commit("updateTurns",e.target.value),this.$store.dispatch("sendSettings")},updateZenMode:function(e){this.$store.commit("updateZenMode",e.target.checked),this.$store.dispatch("sendSettings")},updateCountdown:function(e){this.$store.commit("updateCountdown",e.target.value),this.$store.dispatch("sendSettings")},updateReroll:function(e){this.$store.commit("updateRerollTimeout",e.target.value),this.$store.dispatch("sendSettings")},updateDeckSelection:function(e){this.$store.commit("updateSelectedDecks",{ID:e.target.getAttribute("data-id"),Selected:e.target.checked}),this.$store.dispatch("sendSettings")}}},F=V,K=(n("6f43"),Object(S["a"])(F,X,q,!1,null,"6189a5be",null)),Y=K.exports,ee={name:"Board",components:{RoomSettings:Y,PlayerName:Z,Card:O,Countdown:U},computed:Object(i["a"])({},Object(u["c"])({currBlackCard:function(e){return e.Room.CurrentBlackCard},room:function(e){return e.Room.RoomID},currTurn:function(e){return e.Room.Turn},maxTurn:function(e){return e.Room.MaxTurn},zenMode:function(e){return e.Room.ZenMode},participants:function(e){return e.Room.Participants},isStarted:function(e){return e.Room.Started},isJudge:function(e){return e.User.IsJudge},turnState:function(e){return e.Room.TurnState},isAdmin:function(e){return e.User.IsAdmin},winner:function(e){return e.Room.Winner},canWizz:function(e){return e.CanWizz}}),{},Object(u["b"])(["HasEnoughCards"]),{getCards:function(){return this.$store.state.User.Hand.filter((function(e){return void 0!==e&&null!==e}))},getProposals:function(){return this.$store.state.Room.Answers},getCardText:function(){var e=this;if(0===this.turnState)return[{Question:this.currBlackCard.Text,Class:""}];var t=this.currBlackCard.Text,n=t.split(/(____)/),s=0,o=[];return n.forEach((function(t){if("____"===t){var n="",r=e.$store.state.Room.WinningAnswer;n=void 0!==r&&null!==r?r.Cards[s].Text:e.$store.state.Room.Answers[e.$store.state.Room.JudgeSelection].Cards[s].Text,o.push({Question:n,Class:"colored"}),s++}else o.push({Question:t,Class:""})})),o},isReady:function(){return this.$store.state.Room.Participants.length>=3},canReroll:function(){return!this.isJudge&&0===this.turnState&&0===this.$store.state.User.RerollTimeout},isPlaying:function(){return this.$store.getters.IsPlaying},getWinner:function(){var e=[""],t=-1;return this.$store.state.Room.Participants.forEach((function(n){n.Score===t?(e.push(n.Username),t=n.Score):n.Score>t&&(e=[n.Username],t=n.Score)})),0===t?"Personne n'a gagné !":1===e.length?"Le gagnant est "+e[0]+" !":e.length===this.$store.state.Room.Participants.length?"Match nul !":"Les gagnants sont "+e.join(", ")+" !"}}),methods:{skipCountdown:function(){this.$store.dispatch("skipCountdown")},showRules:function(){this.$store.commit("showRules")},reroll:function(){this.$store.dispatch("reroll")},exit:function(){window.location.reload()},addWizz:function(){this.$store.dispatch("sendWizz")}}},te=ee,ne=(n("e362"),Object(S["a"])(te,x,T,!1,null,"5f64e7a8",null)),se=ne.exports,oe={name:"App",components:{LoginModal:b,Rules:I,Board:se},computed:Object(i["a"])({},Object(u["c"])({ShowModal:function(e){return e.ShowLogin},wizz:function(e){return e.Wizz}}),{showWizz:function(){return this.wizz.length>0?"wizz":""}}),methods:{remWiz:function(e){this.$store.commit("delWizz",e)}},mounted:function(){screen.orientation.lock("landscape")}},re=oe,ae=(n("034f"),Object(S["a"])(re,d,l,!1,null,null,null)),ie=ae.exports;n("15f5"),n("7051");s["a"].config.productionTip=!1,s["a"].use(r.a),s["a"].use(a["a"]),new s["a"]({store:c,render:function(e){return e(ie)}}).$mount("#app")},"57c5":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9b24q0ONhBxCFDdbIgWsRRq1CECqFWaNXB5NIvaGJIUlwcBdeCgx+LVQcXZ10dXAVB8APEydFJ0UVK/F9SaBHjwXE/3t173L0D/M0aU82ecUDVLCObTgn5wooQfkUQIUSRREhipj4rihl4jq97+Ph6l+BZ3uf+HFGlaDLAJxDPMN2wiNeJpzYtnfM+cYxVJIX4nHjMoAsSP3JddvmNc9lhP8+MGbnsHHGMWCh3sdzFrGKoxEniuKJqlO/Pu6xw3uKs1uqsfU/+wkhRW17iOs1hpLGARYgQIKOOKmqwkKBVI8VElvZTHv4hxy+SSyZXFYwc89iACsnxg//B727N0uSEmxRJAcEX2/4YAcK7QKth29/Htt06AQLPwJXW8W80gelP0hsdLX4E9G8DF9cdTd4DLneAwSddMiRHCtD0l0rA+xl9UwEYuAX6Vt3e2vs4fQBy1FXmBjg4BEbLlL3m8e7e7t7+PdPu7wc3EXKP5QS8CAAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+QFBg4DGJ5VxQcAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAB+klEQVR42u1asZGDMBBcPHIXbsAVKHHuKpx+GeqDmIDkyyD4LpSQ+htAM/rgfX4ey0LYWCDrdkbjgBvQ7u3pBBbAYDAYDAaDwfhDXdelUuospbQAkh5SSquUOtd1XQaRL8vyK3XS98aFmz/zFFxVldVaW0LXdXbtoLn356y1tlVVXa95naCUOhN53wNijGcFGP6SCBeOblDN9zOfqgB98tZaq7W+rgl9zsVAAwsAXddBCHEjUFEU0Rbi3/lPA83PWouiKP79GmOw3W5veDsFeOTha0BfAN/1UQEywJX3Jvc9j5ir/shiay4f1xom3tLfA6K+pHAJvCOpKWUoYtRZsg4IJdNXPLVFcDNHJlPL+qQSGMvomoUKcaN45+yGYDPHSprqu8OoA+Ym5rrfXA57dK6zd4G3ccDUxe1REZYWL2oXSLINchfgLoA8HZALWAAWgAXIGy/9JHZvD9HvLjFjogrg2x4P/7aKEbOIA1yZCXkjfGVMdAFCJhEzhh3ADuA2uHwbXCqGHRDbAQEnNaLGBAtgjIEQ4qmPorRB8cXHjDHGjJeAlBIA0LbtbA5wjSViiBNxdApwPB6/AaBpGu9NfRNZK4gTcXSWwH6//wTwcTqdAACHwwG73c55ZC4FGGPQti2apgFxunC8j6zPChOyPi3OYDAYDAYjG/wAAUUbKnHz9o8AAAAASUVORK5CYII="},"6f43":function(e,t,n){"use strict";var s=n("d4f8"),o=n.n(s);o.a},7496:function(e,t,n){e.exports=n.p+"media/wizz.5b5f7230.mp3"},"75d7":function(e,t,n){"use strict";var s=n("92cd"),o=n.n(s);o.a},"85ec":function(e,t,n){},"92cd":function(e,t,n){},"989a":function(e,t,n){e.exports=n.p+"img/admin.f2bf4af9.png"},"9b5b":function(e,t,n){},"9d09":function(e,t,n){e.exports=n.p+"img/msn_wizz.4e9567ec.png"},b87e:function(e,t,n){e.exports=n.p+"img/gavel.0f3a2817.png"},bdd6:function(e,t,n){"use strict";var s=n("430c"),o=n.n(s);o.a},bddb:function(e,t,n){"use strict";var s=n("c3ef"),o=n.n(s);o.a},c3ef:function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.f496b3c6.png"},d4f8:function(e,t,n){},e362:function(e,t,n){"use strict";var s=n("1e3f"),o=n.n(s);o.a}});
//# sourceMappingURL=app.d4be4279.js.map